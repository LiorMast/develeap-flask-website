[client]

port                           = 3306                                # Default MySQL port
socket                         = /tmp/mysql.sock                     # Socket location, change if needed for other environments

[mysqld]

port                           = 3306                                # Default MySQL port
socket                         = /tmp/mysql.sock                     # Ensure applications are aware of this location for connections

back_log                       = 50                                  # Number of connections that can be waiting in the queue
max_connections                = 2                                   # Maximum simultaneous connections, very low for most use cases
wait_timeout                   = 256                                 # Time in seconds to wait before closing idle connections
max_connect_errors             = 10                                  # Max errors allowed before blocking further connections

table_open_cache               = 2048                                # Number of tables that can be cached
max_allowed_packet             = 16M                                 # Maximum size of a packet (query)
max_heap_table_size            = 512M                                # Max size for in-memory temporary tables

read_buffer_size               = 64M                                 # Buffer size for sequential reads (set high for performance)
read_rnd_buffer_size           = 64M                                 # Buffer size for random reads
sort_buffer_size               = 64M                                 # Buffer for sorting operations (can consume a lot of memory)
join_buffer_size               = 64M                                 # Buffer for joins (also memory-intensive)

thread_cache_size              = 8                                   # Cache for reusing threads
thread_stack                   = 240K                                # Stack size for each thread

ft_min_word_len                = 4                                   # Minimum word length for full-text searches
default-storage-engine         = InnoDB                              # Default storage engine
transaction_isolation           = REPEATABLE-READ                    # Transaction isolation level
tmp_table_size                 = 512M                                # Max size for temporary tables

slow_query_log                 = 1                                   # Enable slow query log
long_query_time                = 2                                   # Log queries taking longer than 2 seconds

server-id                      = 1                                   # Server ID (needed for replication)

# INNODB options

innodb_buffer_pool_size        = 4G                                  # Buffer pool size (important for performance)
innodb_buffer_pool_instances   = 8                                   # Number of buffer pool instances
innodb_data_file_path          = ibdata1:10M:autoextend              # Path for the InnoDB data files

innodb_write_io_threads        = 8                                   # Number of threads for write I/O operations
innodb_read_io_threads         = 8                                   # Number of threads for read I/O operations

innodb_thread_concurrency      = 16                                  # Limits concurrent threads for InnoDB
innodb_flush_log_at_trx_commit = 1                                   # Ensures transaction durability (safest setting)

innodb_log_buffer_size         = 1G                                  # Size of the log buffer
innodb_change_buffering        = all                                 # Buffer all change operations
innodb_change_buffer_max_size  = 25                                  # Max percentage of change buffer space

innodb_log_file_size           = 125M                                # Size of each log file
innodb_log_files_in_group      = 2                                   # Number of log files in the group
innodb_max_dirty_pages_pct     = 90                                  # Max percentage of dirty pages before flushing to disk
innodb_lock_wait_timeout       = 256                                 # Time to wait for a lock before failing

innodb_file_per_table          = 1                                   # Store each table in its own file

default_time_zone              = +00:00                              # Default time zone

# Changes for MySQL vs MariaDB
performance_schema             = off                                 # Disable performance schema to reduce overhead
skip-log-bin                   = 1                                   # Disable binary logging (not needed for this learning task)

[mysqldump]

quick                          = 1                                   # Enable quick dumps (minimal memory usage)
max_allowed_packet             = 50M                                 # Increase max allowed packet for dump operations

[mysql]

no-auto-rehash                                                       # Disable auto-rehashing for faster startup

[mysqlhotcopy]

interactive-timeout            = 1                                   # Enables interactive timeouts

[mysqld_safe]

open-files-limit               = 8192                                # Max number of files that can be open
